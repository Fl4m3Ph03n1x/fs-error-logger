<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"errors.js.html":{"id":"errors.js.html","title":"Source: errors.js","body":" DocStrap Modules fs-error-logger Global Global Source: errors.js /** * @typedef {TypeError} IdFnNotAFunction * * @desc Error thrown when one tries ot set the id generator function to something that is not a function. * * @example * const loggerFactory = require( &quot;fs-error-logger&quot; ); * //&quot;Not a function!&quot; is not a function * const logger = loggerFactory( { idFn: &quot;Not a function!&quot; } ); * * @example * const loggerFactory = require( &quot;fs-error-logger&quot; ); * const logger = loggerFactory( ); * logger.setIdFn(0); //0 is not a function */ /** * @typedef {TypeError} PathNotAString * * @desc Error thrown when one tries ot set the output folder path with something that is not a string. * * @example * const loggerFactory = require( &quot;fs-error-logger&quot; ); * //{} is not a string * const logger = loggerFactory( { outputFolder: {} } ); * * @example * const loggerFactory = require( &quot;fs-error-logger&quot; ); * const logger = loggerFactory( ); * logger.setOutputFolder(2); //2 is not a string */ /** * @private * @func errorFactory * @param {string} name The name of the error to be created. * @param {string} message The message the error will contain. * @param {Error} [errorType = new Error()] The error type that will be created and returned. * @returns {Error} * * @description Creates an error and returns it. */ const errorFactory = ( name, message, errorType ) =&gt; { const error = errorType; error.message = message + ` See https://fl4m3ph03n1x.github.io/fs-error-logger/global.html#${name} for more info on errors.`; error.name = name; return error; }; /** * @private * @func idFnNotAFunction * @param {*} idFn The object that should be a function and isn't. * @returns {TypeError} * * @description Returns an &quot;IdFnNotAFunction&quot; TypeError with an information message on how to fix the issue. */ const idFnNotAFunction = idFn =&gt; errorFactory( &quot;IdFnNotAFunction&quot;, `'idFn': ${idFn} must be a function!.`, new TypeError() ); /** * @private * @func pathNotAString * @param {*} outputFolderPath The object that should be a * string and isn't. * @returns {TypeError} * * @description Returns an &quot;PathNotAString&quot; TypeError with an information message on how to fix the issue. */ const pathNotAString = outputFolderPath =&gt; errorFactory( &quot;PathNotAString&quot;, `'outputFolder': ${outputFolderPath} must be a string!`, new TypeError() ); module.exports.idFnNotAFunction = idFnNotAFunction; module.exports.pathNotAString = pathNotAString; × Search results Close "},"fs-error-logger.js.html":{"id":"fs-error-logger.js.html","title":"Source: fs-error-logger.js","body":" DocStrap Modules fs-error-logger Global Global Source: fs-error-logger.js const serializeError = require( &quot;serialize-error&quot; ); const isFunction = require( &quot;lodash.isfunction&quot; ); const isString = require( &quot;lodash.isstring&quot; ); const stringify = require( &quot;json-stringify-pretty-compact&quot; ); const toXML = require( &quot;to-xml&quot; ).toXML; const promisify = require( &quot;util&quot; ).promisify; const error = require( &quot;./errors&quot; ); const idFnNotAFunction = error.idFnNotAFunction; const pathNotAString = error.pathNotAString; const DEAFULT_OUTPUT_FOLDER = &quot;.&quot;; /** * @public * @author Pedro Miguel P. S. Martins * @version 1.0.0 * @module fs-error-logger * * @desc Writes errors into files in both JSON and XML. */ /** * @typedef options * @type {Object} * @property {string} [outputFolder=&quot;.&quot;] The default output folder. * @property {function} [idFn=Date.now] The default id generator * function. * * @desc Options object determining output folder and id generator function. */ /** * @alias module:fs-error-logger.logger * @param {Object} deps * @param {Object} deps.fs File system object that allows the logger to * write the files. Must have an async * &lt;code&gt;writeFile&lt;/code&gt; function and an async * &lt;code&gt;mkdir&lt;/code&gt; function. * @param {module:fs-error-logger~options} [opts] Options object determining output folder and * id generator function. * @returns {Object} * * @desc Returns a logger object, with the API that allows you to write errors to files. */ module.exports.logger = ( { fs }, { outputFolder = DEAFULT_OUTPUT_FOLDER, idFn = Date.now } ) =&gt; { if ( !isString( outputFolder ) ) throw pathNotAString( outputFolder ); if ( !isFunction( idFn ) ) throw idFnNotAFunction( idFn ); if ( outputFolder[ outputFolder.length - 1 ] === &quot;/&quot; ) outputFolder = outputFolder.substring( 0, outputFolder.length - 1 ); const writeFile = promisify( fs.writeFile ); const mkdir = promisify( fs.mkdir ); /** * @public * @function logJSON * @param {Error} error The error object we want to write. * @returns {Promise} * * @desc Resolves if the error was successfully written to a JSON file or rejects otherwise. The format of the file will be: &lt;code&gt;${error.name}_${idFn()}.json&lt;/code&gt;. */ const logJSON = error =&gt; write( `${outputFolder}/${error.name}_${idFn()}.json`, stringify( serializeError( error ), { indent: 4 } ) ); /** * @public * @function logXML * @param {Error} error The error object we want to write. * @returns {Promise} * * @desc Resolves if the error was successfully written to a XML file or rejects otherwise. The format of the file will be: &lt;code&gt;${error.name}_${idFn()}.xml&lt;/code&gt;. */ const logXML = error =&gt; write( `${outputFolder}/${error.name}_${idFn()}.xml`, toXML( { error: serializeError( error ) } ) ); const write = ( fileName, fileContent ) =&gt; { if ( !fs.existsSync( outputFolder ) ) return mkdir( outputFolder ) .then( () =&gt; writeFile( fileName, fileContent ) ); return writeFile( fileName, fileContent ); }; /** * @public * @function setOutputFolder * @param {string} newFolder The path of the output folder. * @throws {PathNotAString} If &lt;code&gt;newFolder&lt;/code&gt; is not a string. * * @desc Sets the output folder path to the one passed. */ const setOutputFolder = newFolder =&gt; { if ( !isString( newFolder ) ) throw pathNotAString( newFolder ); if ( newFolder === &quot;&quot; ) { outputFolder = DEAFULT_OUTPUT_FOLDER; } else { outputFolder = newFolder; } }; /** * @public * @function getOutputFolder * @returns {string} * * @desc Returns the current output folder path. */ const getOutputFolder = () =&gt; outputFolder; /** * @public * @function setIdFn * @param {function} newFn A new Id generator function. * @throws {IdFnNotAFunction} If &lt;code&gt;newFn&lt;/code&gt; is not a function. * * @desc Sets the current Id generator function to the one given. */ const setIdFn = newFn =&gt; { if ( !isFunction( newFn ) ) throw idFnNotAFunction( newFn ); idFn = newFn; }; /** * @public * @function getIdFn * @returns {function} * * @desc Returns the current id generator function. */ const getIdFn = () =&gt; idFn; return { logJSON, logXML, setOutputFolder, getOutputFolder, setIdFn, getIdFn }; }; const fs = require( &quot;fs&quot; ); /** * @private * @param {module:fs-error-logger~options} [opts] Options object determining output folder and * id generator function. * @returns {Object} * * @desc Returns a logger object with all the dependencies pre-injected and with the given options, ready to use. */ module.exports = opts =&gt; { if ( opts === undefined || opts === null ) return module.exports.logger( { fs }, {} ); return module.exports.logger( { fs }, opts ); }; × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" DocStrap Modules fs-error-logger Global Global Global Type Definitions IdFnNotAFunction Error thrown when one tries ot set the id generator function to something that is not a function. Type: TypeError Source: errors.js, line 1 Examples const loggerFactory = require( &quot;fs-error-logger&quot; ); //&quot;Not a function!&quot; is not a function const logger = loggerFactory( { idFn: &quot;Not a function!&quot; } ); const loggerFactory = require( &quot;fs-error-logger&quot; ); const logger = loggerFactory( ); logger.setIdFn(0); //0 is not a function PathNotAString Error thrown when one tries ot set the output folder path with something that is not a string. Type: TypeError Source: errors.js, line 17 Examples const loggerFactory = require( &quot;fs-error-logger&quot; ); //{} is not a string const logger = loggerFactory( { outputFolder: {} } ); const loggerFactory = require( &quot;fs-error-logger&quot; ); const logger = loggerFactory( ); logger.setOutputFolder(2); //2 is not a string × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" DocStrap Modules fs-error-logger Global Global Modules × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" DocStrap Modules fs-error-logger Global Global Whatfs-error-logger is a small module that allows you to write JSON and XML filesfor errors. It was written for nodejs by using its fs library, but if you wantyou can inject a different dependency in it and use it instead. WhyMost people, when catching an error, use console.log to display it and they'redone. This however, is commonly seen as a bad practice because: When having several errors, you will get your console spammed until youeventually loose track of errors or are too spammed to see them. It is seen as a good practice to remove console.log calls from productioncode console.log calls will fail in some environments, forcing you to use dummystubs instead Instead, of using console.log you should: Actually try to fix the error If that is not possible, log it or show it in a consistent, time persistentway fs-error-logger was made to fulfill the second need. By saving your logs todisk, you are able to later retrieve and evaluate them. Furthermore, you alsohave access to the logs in two formats: JSON and XML - both human readable. HowEvery time you log an error usingfs-error-logger you decide where to write it,in what format and its ID. This means that your logs will always be unique andthat you wont lose a single one. If you don't want to do any setup, you can use the default options which willserver you just as well. If you have any questions you can ask in the issues page: fs-error-logger Issues Feel free to check the fs-error-logger project pagefor additional information as well. Installnpm install fs-error-logger --saveAPI logXML logJSON setOutputFolder getOutputFolder setIdFn getIdFn ExamplesFiles created by the logJSON and logXML functions have the following format: ErrorType_ID.Format So for example, an error of type Error using the default Date.now functionas an ID would produce the file Error_12231413.json or Error_12231413.xml,depending on the format. An error of type TypeError would generate TypeError_12231413.json and soon... The first part of the file is the error.name property, while the second isan unique id returned by the idFn which you can parametrize. Following areexamples on how you can create logs. Create a logger and log an error in JSON: const loggerFactory = require( &quot;fs-error-logger&quot; ); const logger = loggerFactory(); //creates a file named 'Error_12512451.json' in the current folder logger.logJSON( new Error() ) .then( () =&gt; console.log(&quot;File written successfully!&quot;) ) .catch( console.log );Create a logger that logs an error in XML: const loggerFactory = require( &quot;fs-error-logger&quot; ); const logger = loggerFactory(); //creates a file named 'Error_12512451.xml' in the current folder logger.logXML( new Error() ) .then( () =&gt; console.log(&quot;File written successfully!&quot;) ) .catch( console.log );Create a logger that writes to the 'errors/' folder: const loggerFactory = require( &quot;fs-error-logger&quot; ); const logger = loggerFactory({outputFolder: &quot;./errors/&quot;}); //creates a file named 'Error_12512451.json' in the current folder logger.logJSON( new Error() ) .then( () =&gt; console.log(&quot;File written successfully!&quot;) ) .catch( console.log );Create a logger that uses as uuidv1 as file ID: const loggerFactory = require( &quot;fs-error-logger&quot; ); const uuidv1 = require(&quot;uuid/v1&quot;); const logger = loggerFactory({idFn: uuidv1}); //creates a file named 'Error_12512451.json' in the current folder logger.logJSON( new Error() ) .then( () =&gt; console.log(&quot;File written successfully!&quot;) ) .catch( console.log );Create a logger with default options and then change the output folder: const loggerFactory = require( &quot;fs-error-logger&quot; ); const logger = loggerFactory(); logger.setOutputFolder(&quot;./errors/&quot;); //creates a file named 'Error_12512451.json' in the &quot;./errors/&quot; folder logger.logJSON( new Error() ) .then( () =&gt; console.log(&quot;File written successfully!&quot;) ) .catch( console.log ); × Search results Close "},"module-fs-error-logger.html":{"id":"module-fs-error-logger.html","title":"Module: fs-error-logger","body":" DocStrap Modules fs-error-logger Global Global Module: fs-error-logger Writes errors into files in both JSON and XML. Version: 1.0.0 Author: Pedro Miguel P. S. Martins Source: fs-error-logger.js, line 15 Methods &lt;static&gt; logger(deps [, opts]) Returns a logger object, with the API that allows you to write errors to files. Parameters: Name Type Argument Description deps Object Properties Name Type Description fs Object File system object that allows the logger to write the files. Must have an async writeFile function and an async mkdir function. opts module:fs-error-logger~options &lt;optional&gt; Options object determining output folder and id generator function. Source: fs-error-logger.js, line 47 Returns: Type Object &lt;inner&gt; getIdFn() Returns the current id generator function. Source: fs-error-logger.js, line 139 Returns: Type function &lt;inner&gt; getOutputFolder() Returns the current output folder path. Source: fs-error-logger.js, line 116 Returns: Type string &lt;inner&gt; logJSON(error) Resolves if the error was successfully written to a JSON file or rejects otherwise. The format of the file will be: ${error.name}_${idFn()}.json. Parameters: Name Type Description error Error The error object we want to write. Source: fs-error-logger.js, line 61 Returns: Type Promise &lt;inner&gt; logXML(error) Resolves if the error was successfully written to a XML file or rejects otherwise. The format of the file will be: ${error.name}_${idFn()}.xml. Parameters: Name Type Description error Error The error object we want to write. Source: fs-error-logger.js, line 75 Returns: Type Promise &lt;inner&gt; setIdFn(newFn) Sets the current Id generator function to the one given. Parameters: Name Type Description newFn function A new Id generator function. Source: fs-error-logger.js, line 125 Throws: If newFn is not a function. Type IdFnNotAFunction &lt;inner&gt; setOutputFolder(newFolder) Sets the output folder path to the one passed. Parameters: Name Type Description newFolder string The path of the output folder. Source: fs-error-logger.js, line 97 Throws: If newFolder is not a string. Type PathNotAString Type Definitions options Options object determining output folder and id generator function. Type: Object Properties: Name Type Argument Default Description outputFolder string &lt;optional&gt; &quot;.&quot; The default output folder. idFn function &lt;optional&gt; Date.now The default id generator function. Source: fs-error-logger.js, line 24 × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
